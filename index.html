<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ø§Ù„Ø£Ø³Ø·ÙˆØ±Ø© TV â€” Ù…ÙØ­Ø¯Ø«</title>
<style>
  :root{--bg:#000;--card:#071018;--muted:rgba(255,255,255,0.65);--accent:#6fe8ff}
  *{box-sizing:border-box} html,body{height:100%}
  body{
    margin:0;
    font-family:system-ui,Roboto,Arial;
    background:linear-gradient(180deg,#000,#051018);
    color:#fff;
    direction:rtl
  }

  .container{max-width:980px;margin:12px auto;padding:0 12px 120px}

  /* Ø§Ù„Ø³Ù„Ø§ÙŠØ¯Ø± */
  .carousel{
    width:100%;
    height:210px;
    border-radius:18px;
    overflow:hidden;
    position:relative;
    margin:8px 0 4px;
    background:#000;
  }
  .slidesOuter{
    width:100%;
    height:100%;
    display:flex;
    transition:transform .4s ease;
    will-change:transform;
  }
  .slideItem{
    flex:0 0 100%;
    height:100%;
    border-radius:18px;
    background-size:cover;
    background-position:center;
    display:flex;
    align-items:flex-end;
    padding:12px;
    color:#fff;
    font-weight:800;
    text-shadow:0 2px 6px rgba(0,0,0,0.7);
    cursor:pointer;
  }
  .slider-dots{
    position:absolute;
    bottom:10px;
    left:50%;
    transform:translateX(-50%);
    display:flex;
    align-items:center;
    gap:6px;
    z-index:45;
  }
  .slider-dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background:rgba(255,255,255,0.45);
  }
  .slider-dot.active{
    background:#fff;
  }

  .section{margin:18px 0}
  .hdr{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
  .hdr .title{font-weight:800}
  .hdr .more{color:var(--muted);font-weight:700;cursor:pointer}
  .row-scroll{
    display:flex;gap:14px;overflow-x:auto;
    padding-bottom:6px;scroll-snap-type:x mandatory
  }
  .item{
    flex:0 0 auto;width:130px;scroll-snap-align:start;
    display:flex;flex-direction:column;align-items:center;
    gap:8px;cursor:pointer
  }
  .thumb{
    width:110px;height:178px;border-radius:14px;overflow:hidden;
    background:#0b0f13;display:flex;align-items:center;
    justify-content:center;border:2px solid rgba(255,255,255,0.03)
  }
  .thumb img{width:100%;height:100%;object-fit:cover;display:block}
  .name{font-size:13px;color:var(--muted);text-align:center}

  #playerPage{
    display:none;position:fixed;inset:0;z-index:300;
    background:#000;align-items:center;justify-content:center
  }
  #player{
    width:100%;
    max-height:100vh;
    min-height:220px;
    background:#000;
    object-fit:contain;
  }
  .player-top{
    position:absolute;top:10px;left:12px;right:12px;
    display:flex;justify-content:space-between;align-items:center;z-index:310
  }
  .player-rotate-wrap{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
    z-index:310;
  }
  .rotate-btn{
    background:rgba(0,0,0,0.65);
    color:#fff;
    border:none;
    padding:10px 18px;
    border-radius:999px;
    font-weight:700;
    font-size:15px;
    display:flex;
    align-items:center;
    gap:6px;
    cursor:pointer;
  }
  .bottom-nav{
    position:fixed;left:0;right:0;bottom:0;height:68px;
    background:linear-gradient(180deg,transparent,rgba(0,0,0,0.6));
    display:flex;align-items:center;justify-content:center;z-index:320
  }
  .nav-inner{
    width:100%;max-width:980px;display:flex;
    justify-content:space-around;align-items:center;padding:8px
  }
  .tab{
    flex:1;display:flex;flex-direction:column;
    align-items:center;gap:6px;cursor:pointer
  }
  .icon-bar{
    width:34px;height:10px;background:rgba(255,255,255,0.1);border-radius:4px
  }
  .active .icon-bar{background:var(--accent)}
  .label{font-size:14px;color:var(--muted)}

  #seriesPage{
    display:none;position:fixed;inset:0;
    background:linear-gradient(180deg,rgba(0,0,0,0.92),rgba(0,0,0,0.96));
    z-index:400;overflow-y:auto;padding:18px
  }
  #seriesTitleHeader{
    text-align:center;
    margin:0 0 10px 0;
    font-size:22px;
    font-weight:800;
  }
  .seasonsBar{
    display:flex;gap:8px;margin:6px 0 4px;
    overflow-x:auto;padding-bottom:4px
  }
  .seasonChip{
    flex:0 0 auto;border-radius:999px;
    border:1px solid rgba(255,255,255,0.2);
    padding:6px 12px;font-size:13px;color:var(--muted);
    cursor:pointer;white-space:nowrap;background:rgba(0,0,0,0.25)
  }
  .seasonChip.active{
    background:var(--accent);color:#012;
    border-color:transparent;font-weight:700
  }
  .episodesGrid{
    display:grid;
    grid-template-columns:repeat(3,110px);
    justify-content:center;
    gap:12px;
    margin-top:10px;
  }
  .episodeItem{
    width:110px;
    background:var(--card);
    border-radius:12px;
    overflow:hidden;
    cursor:pointer;
    display:flex;
    flex-direction:column;
  }
  .episodeThumb{
    width:110px;
    height:180px;
    object-fit:cover;
    display:block;
  }
  .episodeMeta{
    padding:6px 6px 8px;
  }
  .episodeTitle{
    font-size:12px;
    font-weight:700;
    text-align:center;
  }

  #imageViewer{
    display:none;position:fixed;inset:0;
    z-index:350;background:#000;align-items:center;justify-content:center
  }
  #imageViewEl{
    max-width:100%;max-height:100%;object-fit:contain
  }

  .muted{color:var(--muted);font-size:14px}

/* ===== VPN Block Overlay styles (integrated) ===== */
#vpnBlockOverlay {
  display:none;
  position:fixed; inset:0;
  background:linear-gradient(180deg,rgba(0,0,0,0.95),rgba(0,0,0,0.98));
  z-index:9999;
  color:#fff;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  text-align:center;
  padding:24px;
  font-family:system-ui,Roboto,Arial;
}
#vpnBlockOverlay .box{
  max-width:720px;background:rgba(0,0,0,0.6);padding:22px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);
}
#vpnBlockOverlay h1{margin:0 0 8px;font-size:22px}
#vpnBlockOverlay p{margin:8px 0;color:rgba(255,255,255,0.85)}
#vpnBlockOverlay button{margin-top:12px;padding:10px 16px;border-radius:10px;border:0;background:#ff7043;color:#012;font-weight:700;cursor:pointer}
</style>
</head>
<body>

<main class="container">
  <div id="appUI" style="display:none">
    <div class="carousel" id="carousel">
      <div class="slidesOuter" id="slidesOuter" tabindex="0"></div>
      <div class="slider-dots" id="sliderDots"></div>
    </div>

    <!-- Ù‡Ù†Ø§ Ù‡ØªÙ†Ø¶Ø§Ù Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª -->
    <div id="sectionsContainer"></div>
  </div>
</main>

<!-- ØµÙØ­Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª -->
<div id="seriesPage">
  <div style="margin-bottom:8px;display:flex;justify-content:flex-end">
    <button onclick="closeSeries()" style="background:#2196f3;color:#012;border:none;padding:8px 12px;border-radius:10px">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
  </div>
  <h2 id="seriesTitleHeader"></h2>
  <div class="content" id="seriesContent"></div>
</div>

<!-- Ø§Ù„Ù…Ø´ØºÙ„ -->
<div id="playerPage">
  <div class="player-top">
    <button onclick="closePlayer()" style="background:#e53935;color:#fff;border:none;padding:8px 10px;border-radius:8px;font-weight:700">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
    <div style="display:flex;gap:8px">
      <button onclick="toggleCinema()" style="background:rgba(255,255,255,0.06);color:#fff;border:none;padding:8px 10px;border-radius:8px">ğŸï¸</button>
    </div>
  </div>
  <video id="player" controls playsinline></video>

  <div class="player-rotate-wrap">
    <button class="rotate-btn" onclick="toggleRotate()">ğŸ”„ ØªØ¯ÙˆÙŠØ±</button>
  </div>
</div>

<!-- Ø§Ø³ØªØ¹Ø±Ø§Ø¶ Ø§Ù„ØµÙˆØ± -->
<div id="imageViewer">
  <div class="player-top">
    <button onclick="closeImageViewer()" style="background:rgba(255,255,255,0.06);color:#fff;border:none;padding:8px 10px;border-radius:8px">â¬…ï¸ Ø±Ø¬ÙˆØ¹</button>
  </div>
  <img id="imageViewEl" src="" alt="">
</div>

<!-- VPN Block Overlay -->
<div id="vpnBlockOverlay" aria-hidden="true">
  <div class="box">
    <h1>ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¹Ø¨Ø± VPN / Proxy</h1>
    <p id="vpnBlockReason">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ø§ÙƒØªØ´Ù Ø£Ù†Ùƒ Ù…ØªØµÙ„ Ø¹Ø¨Ø± Ø´Ø¨ÙƒØ© VPN Ø£Ùˆ Proxy. Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ØŒ Ù‚Ù… Ø¨Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù€ VPN Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø´Ø¨ÙƒØ© Ø¥Ù†ØªØ±Ù†Øª Ù…Ø¨Ø§Ø´Ø±Ø©.</p>
    <p style="font-size:13px;color:rgba(255,255,255,0.6)">Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØ³ØªØ®Ø¯Ù… Ø´Ø¨ÙƒØ© Ø¹Ù…Ù„ Ø£Ùˆ Ù…Ù‚Ø¯Ù… Ø®Ø¯Ù…Ø© Ø¥Ù†ØªØ±Ù†Øª Ø®Ø§ØµØŒ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØµÙˆÙ„.</p>
    <div style="display:flex;gap:8px;justify-content:center;align-items:center">
      <button id="vpnRetryBtn">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
    </div>
  </div>
</div>

<!-- Ø´Ø±ÙŠØ· ØªØ­Øª -->
<div class="bottom-nav">
  <div class="nav-inner" id="navInner">
    <div class="tab" data-target="home"><div class="icon-bar"></div><div class="label">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</div></div>
    <div class="tab active" data-target="movies"><div class="icon-bar"></div><div class="label">Ø§Ù„Ø£ÙÙ„Ø§Ù…</div></div>
    <div class="tab" data-target="series"><div class="icon-bar"></div><div class="label">Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª</div></div>
    <div class="tab" data-target="settings"><div class="icon-bar"></div><div class="label">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@1"></script>
<script>
/* full JS as in original version (same as the initial code you sent). */
</script>
</body>
</html>
